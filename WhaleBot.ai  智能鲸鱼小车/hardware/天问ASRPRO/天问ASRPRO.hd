<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup" id="FZ;QNouPm+Ydel/bulm8" x="-827" y="-35"><statement name="DO"><block type="block_with_textarea" id="66J,7(Nj[CktsTAH?eYT"><field name="input">//需要操作系统启动前初始化的内容</field><next><block type="block_with_textarea" id="xWLiUKfMSmt6$=5z;3T2"><field name="input">//播报音下拉菜单可以选择，合成音量是指TTS生成文件的音量</field><next><block type="asr_speak" id="MaT`9+Oikgn}zKtgg?A["><field name="VOICE_SET">小蝶-清新女声(V3)</field><field name="vol">10</field><field name="speed">10</field><next><block type="block_with_textarea" id="2@?n55;2(xS*c`=7,ke0"><field name="input">//欢迎词指开机提示音，可以为空</field><next><block type="asr_welcom" id=")3`e*f)~4i4wI?[QymJY"><field name="NAME">欢迎使用语音助手，用天问五幺唤醒我。</field><next><block type="block_with_textarea" id="HJx~+H;YsZH70,LqYXPN"><field name="input">//退出语音是指休眠时提示音，可以为空</field><next><block type="asr_sleep" id="T/2u}Q$vc/$/dkOG~rov"><field name="NAME">我退下了，用天问五幺唤醒我</field><next><block type="block_with_textarea" id="BkD0VpH-lb;yAtn`gS$+"><field name="input">//休眠后用唤醒词唤醒后才能执行命令，唤醒词最多5个。回复语可以空。ID范围为0-9999</field><next><block type="asr_id" id="z;IHE4P.32Y=Pe:PfICo"><field name="ASR">天问五幺</field><field name="leibie">唤醒词</field><field name="huifu">我在</field><field name="id">0</field><next><block type="asr_id" id="6d,h7/KZ:T**zkhg#WJC"><field name="ASR">紧急停止</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">1</field><next><block type="asr_id" id="%4c,]ycJaG}dZg%9}W9s"><field name="ASR">取消紧急停止</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">2</field><next><block type="asr_id" id=".Xid,q-ElB,i-!WiaE6G"><field name="ASR">打开对话模式</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">20</field><next><block type="asr_id" id=";,@t)./TL99/XYyxg1^L"><field name="ASR">开始聊天</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">21</field><next><block type="asr_id" id="WGh,bSr^sIm$aEQgotZ^"><field name="ASR">打开运动模式</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">10</field><next><block type="asr_id" id="Z405aU1yly#P.8/D}L*i"><field name="ASR">前进</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">11</field><next><block type="asr_id" id="W:YE5#/]_13!qpnlQW(k"><field name="ASR">后退</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">12</field><next><block type="asr_id" id="hQ6@$a*=f7%5|GRnlMd6"><field name="ASR">左平移</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">13</field><next><block type="asr_id" id="DB)]O!7#=xJM3H$,9{/^"><field name="ASR">右平移</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">14</field><next><block type="asr_id" id="`5!HISH$Z?qzz#0wdyh^"><field name="ASR">停止</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">15</field><next><block type="asr_id" id="S=ewQW$lY+:X:)BXbVZh"><field name="ASR">左转</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">16</field><next><block type="asr_id" id="[BU:PqcWqI[/nL0U{zCH"><field name="ASR">右转</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">17</field><next><block type="asr_id" id="u-+#`rvY_gr?8mF:1+yH"><field name="ASR">设置为持续运动状态</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">18</field><next><block type="asr_id" id="dy)Uk^[m#,WBOg@nSN=1"><field name="ASR">退出持续运动状态</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">19</field><next><block type="gpio_funmode_setup" id="6=bNVZI7U=$DwZXP/hG;"><field name="PIN">4</field><field name="fun">FIRST_FUNCTION/output</field><next><block type="serial_begin" id="vQX;MjBD_kX4:x?O4~3L"><field name="serial_select">Serial</field><field name="TX">PB_5</field><field name="RX">PB_6</field><value name="CONTENT"><shadow type="baud" id="oNf~Yr[mEv[m80@~2Lj#"><field name="baud">115200</field></shadow></value><next><block type="serial_begin" id="u]q|csSRnV7o_i=Xhy|T"><field name="serial_select">Serial1</field><field name="TX">PA_2</field><field name="RX">PA_3</field><value name="CONTENT"><shadow type="baud" id="F+$Z`Q+:z)fh)O~/|$8S"><field name="baud">9600</field></shadow></value><next><block type="serial_println" id="Q74g7S{5jJvc3*WCO}~S"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="sfq^;j2)aa;GAh@2`[b_"><field name="TEXT">原神启动</field></block></value><next><block type="variables_declare" id="+xRCC`=TM}N7Za_V+s//"><field name="VAR">运动模式标志</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="~Ff@h~OJYD$npapKoya("><field name="NUM">1</field></block></value><next><block type="variables_declare" id="P?FC^9Btb+1^-4[1YUTE"><field name="VAR">串口0接受到的数据</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="NZKnBQP*=JiS0=Xw1n?Y"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="d1f40,1I19zV~xEaXrp)"><field name="VAR">紧急停止标志位</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="QY$u`Z!EEiC6_CY*jSwv"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="md/ut[N1]?Ie-E[V,*0o"><field name="VAR">系统状态</field><field name="ioinput">uint8_t</field><comment pinned="false" h="80" w="160">0为默认，1为运动模式，2为对话模式，255为紧急停止</comment><value name="VALUE"><block type="math_number" id="ee~3eg^G]vtq#SZFsiq{"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="_,CA|X7pZb*u76:(u~i6" x="-117" y="4"><field name="NAME">ASR_CODE</field><comment pinned="false" h="80" w="160">描述该功能...</comment><statement name="STACK"><block type="block_with_textarea" id="Y][*{?p4~JC@(h_kq{j8"><field name="input">//本函数是语音识别成功钩子程序
//运行时间越短越好，复杂控制启动新线程运行</field><next><block type="block_with_textarea" id="c9tHRr0BT;LG.CvJs..k"><field name="input">//用switch分支选择，根据不同的识别成功的ID执行相应动作，点击switch左上齿轮
//可以增加分支项</field><next><block type="controls_if" id=")0HY]|%wui(ls-8Vav,_"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="b/+jo6.UQXmx.z03iAM#"><field name="OP">EQ</field><value name="A"><block type="asr_snid" id="z)X+4Upp$k[;aCn-G|B_"></block></value><value name="B"><block type="math_number" id="/I1rl07q%s@SUrc@($P%"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="zitpGlSVk#n}6Ttmzqq`"><field name="VAR">系统状态</field><value name="VALUE"><block type="math_number" id=":Q5zR@1=0T9:?~|84k0L"><field name="NUM">255</field></block></value><next><block type="serial_println" id="lCIi#j}2=?f^own~{y8J"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="|(qY-?D]J3CXak]v-42="><field name="TEXT">stop</field></block></value><next><block type="serial_print" id="^no[]^1PaI^*hA[1;s*p"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="text" id="{7V0G`_l=k|EwSF~5n+$"><field name="TEXT">t0.txt="紧急停止"</field></block></value><next><block type="asr_event_serial_print" id="8-^^Ho,m2^SiL~h7Ex?B"><field name="serial_select">Serial1</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">FF FF FF</field><next><block type="serial_print" id="(,o#2YYWn2QHYe_Kwq!{"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="text" id="OD2]iRmtTnt)]B{F_qwJ"><field name="TEXT">p0.pic=0</field></block></value><next><block type="asr_event_serial_print" id="AdtZe@5nmUjkAy*ugI!u"><field name="serial_select">Serial1</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">FF FF FF</field><next><block type="serial_print" id="6ZaWk}wbrd0XloaWGT_Q"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="text" id="hBu5)I{j_tj(B%J;?9?K"><field name="TEXT">t0.bco=63488</field></block></value><next><block type="asr_event_serial_print" id="qN%WtROq$`g_B3,R_hXb"><field name="serial_select">Serial1</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">FF FF FF</field><next><block type="asr_event_play_audio" id="xrI`l86}h^=n6}D#lMs+"><field name="audio">已紧急停止</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="controls_if" id="(#5tj)lGhQ1`-`hi.f5,"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="@H}d@m@%_$~}JqFvHScG"><field name="OP">NEQ</field><value name="A"><block type="variables_get" id=",]r!^~}d4wN6o4:_IU1o"><field name="VAR">系统状态</field></block></value><value name="B"><block type="math_number" id="0lfH:DS%DuwE(R.y0b[L"><field name="NUM">255</field></block></value></block></value><statement name="DO0"><block type="block_with_textarea" id="[;Y-r{cZh|7@8;cMICYj"><field name="input">//唤醒时间设置必须在ASR_CODE中才有效</field><next><block type="set_state_enter_wakeup" id="o_iFgGnjoT`?{b^FdB~("><value name="num"><shadow type="math_number" id="pw~TQu+NtH+xQ0=YVosD"><field name="NUM">10</field></shadow></value><next><block type="controls_if" id="Ok66;EVXIsQPogQ$KR~v"><value name="IF0"><block type="logic_compare" id="e0t8:d%_lLpPMaCWFM~b"><field name="OP">EQ</field><value name="A"><block type="asr_snid" id=";/_p2:sxtrA_bQ%_J+8^"></block></value><value name="B"><block type="math_number" id="EhD_^7~P_=.F6+T:[jY]"><field name="NUM">20</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="]AuY?~im3@WJ);JSUbbn"><field name="VAR">系统状态</field><value name="VALUE"><block type="math_number" id="-)gn/W9?=E4G7QHj081?"><field name="NUM">2</field></block></value><next><block type="serial_println" id="tEsL2vo5$qsoTJ#KfLpD"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="^)eVWhHifr#{nlqh[/Im"><field name="TEXT">chatmode</field></block></value><next><block type="serial_print" id="qhPMaQO/,i4E0G*N|mEO"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="text" id="[mke6qtIsKP|tM(*i^M1"><field name="TEXT">t0.txt="对话模式运行中……"</field></block></value><next><block type="asr_event_serial_print" id="2V.dQhvQ/k@Kqb?O_~v|"><field name="serial_select">Serial1</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">FF FF FF</field><next><block type="serial_print" id="%CV$;%^B3p?;|S``mr`D"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="text" id="=ntlCF#l}#gc13!%D84E"><field name="TEXT">p0.pic=0</field></block></value><next><block type="asr_event_serial_print" id="4yMI%jpM-*M?$x:S5Kp@"><field name="serial_select">Serial1</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">FF FF FF</field></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="JM/z^[5f~Q6x_STJ!I61"><value name="IF0"><block type="logic_compare" id="xVs]P7r-89BXmUdulJ%f"><field name="OP">EQ</field><value name="A"><block type="asr_snid" id="?A#HMuP1xO!n!~Va}$ku"></block></value><value name="B"><block type="math_number" id="e.q8mC/wVmhOwc[}HVA9"><field name="NUM">10</field></block></value></block></value><statement name="DO0"><block type="block_with_textarea" id="g@6zUPAezCRj:c^29.(C"><field name="input">//运动模式</field><next><block type="variables_set" id="|JH?=wrpmgpekEvQ{|a^"><field name="VAR">系统状态</field><value name="VALUE"><block type="math_number" id="4[1K/;ncTX([cz?,oVc;"><field name="NUM">1</field></block></value><next><block type="serial_println" id="43kY0%wET6JpV#c(NPTg"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="nKP{oiUMjd/F`3ILD_eu"><field name="TEXT">sportmode</field></block></value><next><block type="serial_print" id="n5C7jP|K![eQ?I^@jq9a"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="text" id="QNy5f^v7$a6PIZ4[u?|8"><field name="TEXT">t0.txt="运动模式运行中……"</field></block></value><next><block type="asr_event_serial_print" id="-DUQnQ@m$|w*C8qio!~E"><field name="serial_select">Serial1</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">FF FF FF</field><next><block type="serial_print" id=":d,EWZ97WSFE~HG=#r0B"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="text" id="=D$Nl?ccm7Pd7Ilx@fp+"><field name="TEXT">p0.pic=1</field></block></value><next><block type="asr_event_serial_print" id="=ucq}?L[gHWHk?hOi0Nd"><field name="serial_select">Serial1</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">FF FF FF</field></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="T{N/%Cq7YgLfG^6.R1;/"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="]uFLxxl8Rc)8F^n:A71X"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="JvNd{c%G0[1MX.BEb(qu"><field name="VAR">系统状态</field></block></value><value name="B"><block type="math_number" id="kpBMDIhrwu3k;xd@-7ET"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="controls_switch_case" id="eUf~6s8MnD^ou7VewA_("><mutation elseif="10" else="1"></mutation><value name="IF0"><block type="asr_snid" id="BkPAhe4|,zFWO1%)+B6-"></block></value><value name="IF1"><block type="math_number" id="5@n5=imvNcNs/RMN:dD:"><field name="NUM">11</field></block></value><statement name="DO1"><block type="serial_println" id="AKmOFV^:2E:y(p9.{zc3"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="Ryru2mfJxya:_d{uOqQP"><field name="TEXT">w</field></block></value></block></statement><value name="IF2"><block type="math_number" id="76CF}bo%u+ay{[LPCQ!#"><field name="NUM">12</field></block></value><statement name="DO2"><block type="serial_println" id="m_b_Z-v4l4$A^6*@iclV"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id=";yFKa]Yr/^Ad$OwwK3~K"><field name="TEXT">a</field></block></value></block></statement><value name="IF3"><block type="math_number" id="hCR0dDJdNmc^9USGt!aY"><field name="NUM">13</field></block></value><statement name="DO3"><block type="serial_println" id="Nins=8X[ts-W@AX||q2M"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="]c`vZx5umb}6?i[0me1/"><field name="TEXT">s</field></block></value></block></statement><value name="IF4"><block type="math_number" id="#MJzo^#K$_e;W[(:|.(Z"><field name="NUM">14</field></block></value><statement name="DO4"><block type="serial_println" id=",m*hSSN~)Le!l?z}?.1V"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="okh`kFV*v5W8_edS.GBI"><field name="TEXT">d</field></block></value></block></statement><value name="IF5"><block type="math_number" id="3p(%/8Lc_egrEQhj3-|G"><field name="NUM">15</field></block></value><statement name="DO5"><block type="serial_println" id="aJ8vla7(G:v0coy6R1SO"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="z}8~5]Vd-kc+T]!j1v-:"><field name="TEXT">z</field></block></value></block></statement><value name="IF6"><block type="math_number" id="XduOk+w~0_UtjjI+yu+K"><field name="NUM">16</field></block></value><statement name="DO6"><block type="serial_println" id="5f%CC$Y!cAUQ6Z6Ti/Fy"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="Q:25N+|1{Q9?$rrK6f+X"><field name="TEXT">e</field></block></value></block></statement><value name="IF7"><block type="math_number" id="OMJ1X.,{U=j04YF@=zV4"><field name="NUM">17</field></block></value><statement name="DO7"><block type="serial_println" id="|5O9:RWpDt42sT=2kE*;"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="Uc~%fyr:rLa;07l$=aMI"><field name="TEXT">q</field></block></value></block></statement><value name="IF8"><block type="math_number" id="]ceXqC2876/K*1%{vjwh"><field name="NUM">18</field></block></value><statement name="DO8"><block type="serial_println" id="a};M8:1en*7)w;*yyZl2"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="41xoDL(W7_W*OQPZLo[9"><field name="TEXT">continuoussportmode</field></block></value></block></statement><value name="IF9"><block type="math_number" id="/jGbO@rT(ASAFrF_/iCt"><field name="NUM">19</field></block></value><statement name="DO9"><block type="serial_println" id="gRBPX2rcQ[cp3r]nz!jC"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="LKri,Gg1l?ug|RrntB*B"><field name="TEXT">pointsportmode</field></block></value></block></statement><value name="IF10"><block type="math_number" id="{o0.Q|_FsWL_(+#:1[X]"><field name="NUM">0</field></block></value><statement name="ELSE"><block type="block_with_textarea" id="73pwUN8OSVA7Tbt6~AcO"><field name="input">//指令不对的话停止</field><next><block type="serial_println" id="bNuh;h1[_ali5MTJ{`6R"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="@x7R}QDkXWT2.y87vxMj"><field name="TEXT">z</field></block></value></block></next></block></statement></block></statement><statement name="ELSE"><block type="block_with_textarea" id="/?_I8/u^JgDQ=-DT.z-."><field name="input">//对话模式</field><next><block type="controls_switch_case" id="w~th`jrEf5Z{GVy{_rtH"><mutation elseif="1"></mutation><value name="IF0"><block type="asr_snid" id="bH4Zx[N;9UUmDCDp6axZ"></block></value><value name="IF1"><block type="math_number" id="^wK3EZ-10@5?[J0svgf("><field name="NUM">21</field></block></value><statement name="DO1"><block type="serial_println" id=".q/Ery/V@vX,BBPG5(#i"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="clPXYZ*AkPOC@Y6v1pjb"><field name="TEXT">startchat</field></block></value></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="controls_if" id="?N:a,aQp2K7)OK?@[)fS"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="*1IFlvm9mY/y({TviA-w"><field name="OP">EQ</field><value name="A"><block type="asr_snid" id="Z[{W*Iy2urd$rZeVi#U]"></block></value><value name="B"><block type="math_number" id="`VwNKNT~3@E(*+I=t;AT"><field name="NUM">2</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="-x0(/gdI{AmODGPK0*MG"><field name="VAR">紧急停止标志位</field><value name="VALUE"><block type="math_number" id="]jjqjyBhFL=VtKvqHNz6"><field name="NUM">0</field></block></value><next><block type="asr_event_play_audio" id="nQ4]8V0sbieX%A=L-2Vq"><field name="audio">已退出紧急状态</field><next><block type="serial_print" id="0kJe@DM[Q{9YaW|DR:vG"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="text" id="L^Q-L$IFLf=oncK1N}.4"><field name="TEXT">t0.bco=65535</field></block></value><next><block type="asr_event_serial_print" id="WckO!m8g1eh|0w`74K/."><field name="serial_select">Serial1</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">FF FF FF</field></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="asr_event_play_audio" id="b_SVylHV?8UnU;h=H8gm"><field name="audio">请先退出紧急停止状态喵</field></block></statement></block></statement></block></statement></block></next></block></next></block></statement></block><block type="hardware_init" id="5(xjiHKGxzSO7.q~)ub2" x="620" y="58"><statement name="DO"><block type="block_with_textarea" id="mRv=s#Ol,$7T%^)k03GW"><field name="input">//需要操作系统启动后初始化的内容</field><next><block type="block_with_textarea" id="dtr+9R=GG,O0wj(yO4Z$"><field name="input">//音量范围1-7</field><next><block type="vol_set" id="]7/`yuVo}+2PuukIy2,8"><value name="num"><shadow type="asr_vol" id="t9hY@q#b_2CO_3/_Z1u#"><field name="PIN">3</field></shadow></value></block></next></block></next></block></statement></block></xml>
<!-- edittype="asr_pro" -->
<!-- officialLib="[]" -->
<!-- personalLib="[]" -->